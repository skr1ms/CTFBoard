// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: app_settings.sql

package sqlc

import (
	"context"
	"time"
)

const getAppSettings = `-- name: GetAppSettings :one
SELECT id, app_name, verify_emails, frontend_url, cors_origins,
       resend_enabled, resend_from_email, resend_from_name,
       verify_ttl_hours, reset_ttl_hours,
       submit_limit_per_user, submit_limit_duration_min,
       scoreboard_visible, registration_open, updated_at
FROM app_settings
WHERE id = 1
`

func (q *Queries) GetAppSettings(ctx context.Context) (AppSetting, error) {
	row := q.db.QueryRow(ctx, getAppSettings)
	var i AppSetting
	err := row.Scan(
		&i.ID,
		&i.AppName,
		&i.VerifyEmails,
		&i.FrontendUrl,
		&i.CorsOrigins,
		&i.ResendEnabled,
		&i.ResendFromEmail,
		&i.ResendFromName,
		&i.VerifyTtlHours,
		&i.ResetTtlHours,
		&i.SubmitLimitPerUser,
		&i.SubmitLimitDurationMin,
		&i.ScoreboardVisible,
		&i.RegistrationOpen,
		&i.UpdatedAt,
	)
	return i, err
}

const updateAppSettings = `-- name: UpdateAppSettings :exec
UPDATE app_settings SET
    app_name = $1,
    verify_emails = $2,
    frontend_url = $3,
    cors_origins = $4,
    resend_enabled = $5,
    resend_from_email = $6,
    resend_from_name = $7,
    verify_ttl_hours = $8,
    reset_ttl_hours = $9,
    submit_limit_per_user = $10,
    submit_limit_duration_min = $11,
    scoreboard_visible = $12,
    registration_open = $13,
    updated_at = $14
WHERE id = 1
`

type UpdateAppSettingsParams struct {
	AppName                string    `json:"app_name"`
	VerifyEmails           bool      `json:"verify_emails"`
	FrontendUrl            string    `json:"frontend_url"`
	CorsOrigins            string    `json:"cors_origins"`
	ResendEnabled          bool      `json:"resend_enabled"`
	ResendFromEmail        string    `json:"resend_from_email"`
	ResendFromName         string    `json:"resend_from_name"`
	VerifyTtlHours         int32     `json:"verify_ttl_hours"`
	ResetTtlHours          int32     `json:"reset_ttl_hours"`
	SubmitLimitPerUser     int32     `json:"submit_limit_per_user"`
	SubmitLimitDurationMin int32     `json:"submit_limit_duration_min"`
	ScoreboardVisible      string    `json:"scoreboard_visible"`
	RegistrationOpen       bool      `json:"registration_open"`
	UpdatedAt              time.Time `json:"updated_at"`
}

func (q *Queries) UpdateAppSettings(ctx context.Context, arg UpdateAppSettingsParams) error {
	_, err := q.db.Exec(ctx, updateAppSettings,
		arg.AppName,
		arg.VerifyEmails,
		arg.FrontendUrl,
		arg.CorsOrigins,
		arg.ResendEnabled,
		arg.ResendFromEmail,
		arg.ResendFromName,
		arg.VerifyTtlHours,
		arg.ResetTtlHours,
		arg.SubmitLimitPerUser,
		arg.SubmitLimitDurationMin,
		arg.ScoreboardVisible,
		arg.RegistrationOpen,
		arg.UpdatedAt,
	)
	return err
}
