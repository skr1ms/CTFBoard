openapi: 3.0.0
info:
  contact:
    email: skr1ms13666@gmail.com
    name: API Support
  description: REST API for managing CTF competition
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://ctfleague.ru/terms
  title: CTFBoard API
  version: 1.0.0
paths:
  /admin/awards:
    post:
      description: Creates a new award (bonus or penalty) for a team. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateAwardRequest"
        description: Award data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.AwardResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Create award
      tags:
        - Admin
  /admin/export:
    get:
      description: Exports competition data as JSON backup. Admin only.
      parameters:
        - name: include_users
          in: query
          description: Include user data in export
          schema:
            type: boolean
            default: false
        - name: include_teams
          in: query
          description: Include team data in export
          schema:
            type: boolean
            default: true
        - name: include_solves
          in: query
          description: Include solve data in export
          schema:
            type: boolean
            default: false
        - name: include_awards
          in: query
          description: Include award data in export
          schema:
            type: boolean
            default: true
      responses:
        "200":
          description: Backup data
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/entity.BackupData"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Export competition backup
      tags:
        - Admin
  /admin/export/zip:
    get:
      description: Exports competition data as ZIP archive with files. Admin only.
      parameters:
        - name: include_files
          in: query
          description: Include challenge files in export
          schema:
            type: boolean
            default: true
      responses:
        "200":
          description: ZIP archive
          content:
            application/zip:
              schema:
                type: string
                format: binary
          headers:
            Content-Disposition:
              schema:
                type: string
                example: 'attachment; filename="backup-20260201T130000Z.zip"'
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Export competition backup as ZIP
      tags:
        - Admin
  /admin/import:
    post:
      description: Imports competition data from ZIP backup. Admin only.
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  type: string
                  format: binary
                  description: ZIP backup file
                erase_existing:
                  type: boolean
                  description: Erase existing data before import
                conflict_mode:
                  type: string
                  enum: [merge, overwrite, skip]
                  description: How to handle conflicts
                validate_files:
                  type: boolean
                  description: Validate file checksums
              required:
                - file
        required: true
      responses:
        "200":
          description: Import result
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/entity.ImportResult"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Import competition backup
      tags:
        - Admin
  /admin/submissions:
    get:
      description: Returns paginated list of all flag submissions. Admin only.
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.SubmissionListResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get all submissions
      tags:
        - Admin
  "/admin/submissions/challenge/{challengeID}":
    get:
      description: Returns paginated list of submissions for a challenge. Admin only.
      parameters:
        - name: challengeID
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.SubmissionListResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get submissions by challenge
      tags:
        - Admin
  "/admin/submissions/challenge/{challengeID}/stats":
    get:
      description: Returns submission statistics for a challenge. Admin only.
      parameters:
        - name: challengeID
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.SubmissionStatsResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get submission stats by challenge
      tags:
        - Admin
  "/admin/submissions/user/{userID}":
    get:
      description: Returns paginated list of submissions by a user. Admin only.
      parameters:
        - name: userID
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.SubmissionListResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get submissions by user
      tags:
        - Admin
  "/admin/submissions/team/{teamID}":
    get:
      description: Returns paginated list of submissions by a team. Admin only.
      parameters:
        - name: teamID
          in: path
          required: true
          schema:
            type: string
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.SubmissionListResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get submissions by team
      tags:
        - Admin
  /tags:
    get:
      description: Returns list of all tags
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.TagResponse"
                type: array
      summary: Get all tags
      tags:
        - Tags
  /admin/tags:
    post:
      description: Creates a new tag. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateTagRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TagResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Create tag
      tags:
        - Admin
  "/admin/tags/{ID}":
    put:
      description: Updates a tag. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateTagRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TagResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Update tag
      tags:
        - Admin
    delete:
      description: Deletes a tag. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Delete tag
      tags:
        - Admin
  /fields:
    get:
      description: Returns custom fields for registration (filter by entity_type)
      parameters:
        - name: entity_type
          in: query
          required: true
          schema:
            type: string
            enum: [user, team]
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.FieldResponse"
                type: array
      summary: Get fields by entity type
      tags:
        - Fields
  /admin/fields:
    post:
      description: Creates a custom field. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateFieldRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.FieldResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Create field
      tags:
        - Admin
  "/admin/fields/{ID}":
    put:
      description: Updates a custom field. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateFieldRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.FieldResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Update field
      tags:
        - Admin
    delete:
      description: Deletes a custom field. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Delete field
      tags:
        - Admin
  /brackets:
    get:
      description: Returns list of all brackets (team categories)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.BracketResponse"
                type: array
      summary: Get brackets list
      tags:
        - Brackets
  /admin/brackets:
    post:
      description: Creates a new bracket. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateBracketRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.BracketResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "409":
          description: Conflict
      security:
        - BearerAuth: []
      summary: Create bracket
      tags:
        - Admin
  "/admin/brackets/{ID}":
    get:
      description: Returns bracket by ID. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.BracketResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Get bracket by ID
      tags:
        - Admin
    put:
      description: Updates a bracket. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateBracketRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.BracketResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
        "409":
          description: Conflict
      security:
        - BearerAuth: []
      summary: Update bracket
      tags:
        - Admin
    delete:
      description: Deletes a bracket. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Delete bracket
      tags:
        - Admin
  "/admin/teams/{ID}/bracket":
    patch:
      description: Sets team bracket (category). Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.SetTeamBracketRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TeamResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Set team bracket
      tags:
        - Admin
  /ratings:
    get:
      description: Returns global team ratings (paginated)
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.GlobalRatingsListResponse"
      summary: Get global ratings
      tags:
        - Ratings
  "/ratings/team/{ID}":
    get:
      description: Returns rating for a team (global + per-event)
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TeamRatingResponse"
        "404":
          description: Not Found
      summary: Get team rating
      tags:
        - Ratings
  /admin/ctf-events:
    get:
      description: Returns list of CTF events. Admin only.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.CTFEventResponse"
                type: array
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Get CTF events list
      tags:
        - Admin
    post:
      description: Creates a new CTF event. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateCTFEventRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.CTFEventResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Create CTF event
      tags:
        - Admin
  "/admin/ctf-events/{ID}/finalize":
    post:
      description: Finalizes CTF event and recalculates global ratings. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Finalize CTF event
      tags:
        - Admin
  /pages:
    get:
      description: Returns list of published pages (title, slug)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.PageListItemResponse"
                type: array
      summary: Get published pages list
      tags:
        - Pages
  "/pages/{slug}":
    get:
      description: Returns page by slug (published only)
      parameters:
        - name: slug
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.PageResponse"
        "404":
          description: Not Found
      summary: Get page by slug
      tags:
        - Pages
  /admin/pages:
    get:
      description: Returns list of all pages. Admin only.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.PageResponse"
                type: array
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Get all pages
      tags:
        - Admin
    post:
      description: Creates a new page. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreatePageRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.PageResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "409":
          description: Conflict
      security:
        - BearerAuth: []
      summary: Create page
      tags:
        - Admin
  "/admin/pages/{ID}":
    get:
      description: Returns page by ID. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.PageResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Get page by ID
      tags:
        - Admin
    put:
      description: Updates a page. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdatePageRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.PageResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
        "409":
          description: Conflict
      security:
        - BearerAuth: []
      summary: Update page
      tags:
        - Admin
    delete:
      description: Deletes a page. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Delete page
      tags:
        - Admin
  /notifications:
    get:
      description: Returns list of global notifications
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.NotificationResponse"
                type: array
      summary: Get global notifications
      tags:
        - Notifications
  /user/notifications:
    get:
      description: Returns list of notifications for current user
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
        - name: per_page
          in: query
          schema:
            type: integer
            default: 20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.UserNotificationResponse"
                type: array
        "401":
          description: Unauthorized
      security:
        - BearerAuth: []
      summary: Get user notifications
      tags:
        - Notifications
  "/user/notifications/{ID}/read":
    patch:
      description: Marks notification as read
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Mark notification as read
      tags:
        - Notifications
  /user/tokens:
    get:
      description: Returns list of API tokens for current user
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/response.APITokenResponse"
        "401":
          description: Unauthorized
      security:
        - BearerAuth: []
      summary: List my API tokens
      tags:
        - User
    post:
      description: Creates a new API token. Returns plaintext token once.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateAPITokenRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.APITokenCreatedResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
      security:
        - BearerAuth: []
      summary: Create API token
      tags:
        - User
  "/user/tokens/{ID}":
    delete:
      description: Revokes an API token
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Revoke API token
      tags:
        - User
  /admin/notifications:
    post:
      description: Creates a global notification. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateNotificationRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.NotificationResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Create global notification
      tags:
        - Admin
  "/admin/notifications/user/{userID}":
    post:
      description: Creates a personal notification for a user. Admin only.
      parameters:
        - name: userID
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateUserNotificationRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.UserNotificationResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Create personal notification
      tags:
        - Admin
  "/admin/notifications/{ID}":
    put:
      description: Updates a notification. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateNotificationRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.NotificationResponse"
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Update notification
      tags:
        - Admin
    delete:
      description: Deletes a notification. Admin only.
      parameters:
        - name: ID
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Delete notification
      tags:
        - Admin
  "/admin/awards/team/{teamID}":
    get:
      description: Returns list of awards for a team. Admin only.
      parameters:
        - description: Team ID
          in: path
          name: teamID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.AwardResponse"
                type: array
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get awards by team
      tags:
        - Admin
  "/admin/teams/{ID}/ban":
    post:
      description: Bans a team. Admin only.
      parameters:
        - description: Team ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.BanTeamRequest"
        description: Ban reason
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Ban team
      tags:
        - Admin
    delete:
      description: Unbans a team. Admin only.
      parameters:
        - description: Team ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Unban team
      tags:
        - Admin
  "/admin/teams/{ID}/hidden":
    patch:
      description: Sets team hidden status. Admin only.
      parameters:
        - description: Team ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.SetHiddenRequest"
        description: Hidden status
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: boolean
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Set team hidden status
      tags:
        - Admin
  /admin/challenges:
    post:
      description: Creates new challenge. Admin only
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateChallengeRequest"
        description: Challenge data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.ChallengeResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Create challenge
      tags:
        - Admin
  "/admin/challenges/{challengeID}/files":
    post:
      description: Uploads file attachment to a challenge. Admin only
      parameters:
        - description: Challenge ID
          in: path
          name: challengeID
          required: true
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                file:
                  description: File to upload
                  type: string
                  format: binary
                type:
                  description: "File type: challenge or writeup"
                  type: string
                  default: challenge
              required:
                - file
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                additionalProperties: true
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Upload file to challenge
      tags:
        - Admin
  "/admin/challenges/{challengeID}/hints":
    post:
      description: Creates a new hint for a challenge. Admin only.
      parameters:
        - description: Challenge ID
          in: path
          name: challengeID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateHintRequest"
        description: Hint data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.HintAdminResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Create hint
      tags:
        - Admin
  "/admin/challenges/{ID}":
    delete:
      description: Deletes challenge. Admin only
      parameters:
        - description: Challenge ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Delete challenge
      tags:
        - Admin
    put:
      description: Updates challenge data. Admin only
      parameters:
        - description: Challenge ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateChallengeRequest"
        description: Challenge data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.ChallengeResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Update challenge
      tags:
        - Admin
  "/admin/files/{ID}":
    delete:
      description: Deletes file from storage. Admin only
      parameters:
        - description: File ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Delete file
      tags:
        - Admin
  "/admin/hints/{ID}":
    delete:
      description: Deletes hint. Admin only.
      parameters:
        - description: Hint ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Delete hint
      tags:
        - Admin
    put:
      description: Updates hint data. Admin only.
      parameters:
        - description: Hint ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateHintRequest"
        description: Hint data
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.HintAdminResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Update hint
      tags:
        - Admin
  /auth/forgot-password:
    post:
      description: Sends password reset email to specified address
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.ForgotPasswordRequest"
        description: Email address
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: Request password reset
      tags:
        - Authentication
  /auth/login:
    post:
      description: Authenticates user and returns JWT tokens
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.LoginRequest"
        description: Credentials
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/jwt.TokenPair"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: User login
      tags:
        - Authentication
  /auth/me:
    get:
      description: Returns information about authenticated user
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.MeResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get current user info
      tags:
        - Authentication
  /auth/register:
    post:
      description: Creates a new user in the system
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.RegisterRequest"
        description: Registration data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.RegisterResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: Register new user
      tags:
        - Authentication
  /auth/resend-verification:
    post:
      description: Resends verification email to authenticated user
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Resend verification email
      tags:
        - Authentication
  /auth/reset-password:
    post:
      description: Resets password using token
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.ResetPasswordRequest"
        description: Token and new password
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "410":
          description: Gone
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: Reset password
      tags:
        - Authentication
  /auth/verify-email:
    get:
      description: Verifies user email using token from query parameter
      parameters:
        - description: Verification token
          in: query
          name: token
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "410":
          description: Gone
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: Verify email
      tags:
        - Authentication
  /competition/status:
    get:
      description: Returns competition status (public, no auth)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.CompetitionStatusResponse"
      summary: Get competition status
      tags:
        - Competition
  /admin/competition:
    get:
      description: Returns full competition config. Admin only.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.CompetitionResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Get admin competition
      tags:
        - Admin
    put:
      description: Updates competition. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateCompetitionRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Update competition
      tags:
        - Admin
  /admin/settings:
    get:
      description: Returns app settings. Admin only.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.AppSettingsResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Get admin settings
      tags:
        - Admin
    put:
      description: Updates app settings. Admin only.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.UpdateAppSettingsRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Update admin settings
      tags:
        - Admin
  /admin/configs:
    get:
      description: Returns all dynamic configs. Admin only.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.ConfigResponse"
                type: array
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Get all configs
      tags:
        - Admin
  "/admin/configs/{key}":
    get:
      description: Returns config by key. Admin only.
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.ConfigResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Get config by key
      tags:
        - Admin
    put:
      description: Set or update config. Admin only.
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.SetConfigRequest"
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      security:
        - BearerAuth: []
      summary: Set config
      tags:
        - Admin
    delete:
      description: Delete config. Admin only.
      parameters:
        - name: key
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      security:
        - BearerAuth: []
      summary: Delete config
      tags:
        - Admin
  /challenges:
    get:
      description: Returns list of all challenges with solved status for user's team
      parameters:
        - name: tag
          in: query
          description: Filter challenges by tag ID
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.ChallengeResponse"
                type: array
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get challenges list
      tags:
        - Challenges
  "/challenges/{challengeID}/files":
    get:
      description: Returns list of files attached to a challenge
      parameters:
        - description: Challenge ID
          in: path
          name: challengeID
          required: true
          schema:
            type: string
        - description: "File type: challenge or writeup"
          in: query
          name: type
          schema:
            type: string
            default: challenge
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  additionalProperties: true
                  type: object
                type: array
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get challenge files
      tags:
        - Challenges
  "/challenges/{challengeID}/hints":
    get:
      description: Returns list of hints for a challenge. Content is hidden for
        non-unlocked hints.
      parameters:
        - description: Challenge ID
          in: path
          name: challengeID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.HintResponse"
                type: array
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get hints for challenge
      tags:
        - Hints
  "/challenges/{challengeID}/hints/{hintID}/unlock":
    post:
      description: Unlocks a hint by spending team points
      parameters:
        - description: Challenge ID
          in: path
          name: challengeID
          required: true
          schema:
            type: string
        - description: Hint ID
          in: path
          name: hintID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.HintResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "402":
          description: Insufficient points
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "409":
          description: Already unlocked
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Unlock hint
      tags:
        - Hints
  "/challenges/{challengeID}/comments":
    get:
      description: Returns comments for a challenge. Available only after competition has ended.
      parameters:
        - description: Challenge ID
          in: path
          name: challengeID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.CommentResponse"
                type: array
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden (competition not ended)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get comments for challenge
      tags:
        - Comments
    post:
      description: Creates a comment for a challenge. Available only after competition has ended.
      parameters:
        - description: Challenge ID
          in: path
          name: challengeID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateCommentRequest"
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.CommentResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden (competition not ended)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Create comment for challenge
      tags:
        - Comments
  "/comments/{ID}":
    delete:
      description: Deletes own comment by ID.
      parameters:
        - description: Comment ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden (not comment owner)
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Delete comment
      tags:
        - Comments
  "/challenges/{ID}/first-blood":
    get:
      description: Returns the first solver of a challenge
      parameters:
        - description: Challenge ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.FirstBloodResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: Get first blood
      tags:
        - Challenges
  "/challenges/{ID}/submit":
    post:
      description: "Verifies flag for challenge. Rate limit: 5 attempts per minute"
      parameters:
        - description: Challenge ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.SubmitFlagRequest"
        description: Flag to verify
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "429":
          description: Too Many Requests
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Submit flag
      tags:
        - Challenges
  "/files/{ID}/download":
    get:
      description: Returns presigned URL for file download
      parameters:
        - description: File ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get download URL
      tags:
        - Challenges
  /scoreboard:
    get:
      description: Returns current scoreboard state sorted by points descending. Optional bracket_id filters by team category.
      parameters:
        - name: bracket
          in: query
          description: Filter scoreboard by bracket (category) ID
          required: false
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/response.ScoreboardEntryResponse"
                type: array
      summary: Get scoreboard
      tags:
        - Scoreboard
  /scoreboard/graph:
    get:
      description: Returns scoreboard graph data with team timelines for visualization
      parameters:
        - description: Number of top teams to include
          in: query
          name: top
          schema:
            type: integer
            default: 10
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/entity.ScoreboardGraph"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: Get scoreboard graph
      tags:
        - Scoreboard
  /statistics/challenges:
    get:
      description: Returns statistics for all challenges including solve counts
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/entity.ChallengeStats"
                type: array
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get challenge statistics
      tags:
        - Statistics
  /statistics/challenges/{id}:
    get:
      description: Returns detailed statistics for a single challenge (solves, first blood, percentage)
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/entity.ChallengeDetailStats"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Challenge not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get challenge detail statistics
      tags:
        - Statistics
  /statistics/general:
    get:
      description: Returns general platform statistics (counts of users, teams,
        challenges, solves)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/entity.GeneralStats"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get general statistics
      tags:
        - Statistics
  /statistics/scoreboard:
    get:
      description:
        Returns scoreboard history for graph visualization. Default limit
        10 (max 50)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                items:
                  $ref: "#/components/schemas/entity.ScoreboardHistoryEntry"
                type: array
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get scoreboard history
      tags:
        - Statistics
  /teams:
    post:
      description: Creates new team. User becomes captain
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateTeamRequest"
        description: Team data
        required: true
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TeamResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Create team
      tags:
        - Teams
  "/teams/{ID}":
    get:
      description: Returns team information by ID
      parameters:
        - description: Team ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TeamResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get team by ID
      tags:
        - Teams
  /teams/join:
    post:
      description: Joins team by invite token
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.JoinTeamRequest"
        description: Invite token
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TeamResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Join team
      tags:
        - Teams
  /teams/leave:
    post:
      description: Leave current team
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "409":
          description: Conflict
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Leave team
      tags:
        - Teams
  /teams/me:
    delete:
      description: Disbands the current team (Captain only)
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Disband team
      tags:
        - Teams
  "/teams/members/{ID}":
    delete:
      description: Kicks a member from the team (Captain only)
      parameters:
        - description: Member User ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Kick member
      tags:
        - Teams
  /teams/my:
    get:
      description: Returns information about current user's team. If no team, returns 404.
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TeamWithMembersResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: User is not in a team
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Get my team
      tags:
        - Teams
  /teams/solo:
    post:
      description: Creates a solo team for the user (Select Solo Mode)
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.CreateTeamRequest"
        description: Confirm reset
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.TeamResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Create solo team
      tags:
        - Teams
  /teams/transfer-captain:
    post:
      description: Transfer team captain role
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/request.TransferCaptainRequest"
        description: New captain ID
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                additionalProperties:
                  type: string
                type: object
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "401":
          description: Unauthorized
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "403":
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      security:
        - BearerAuth: []
      summary: Transfer captainship
      tags:
        - Teams
  "/users/{ID}":
    get:
      description: Returns public information about user and their solved challenges
      parameters:
        - description: User ID
          in: path
          name: ID
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/response.UserProfileResponse"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/v1.ErrorResponse"
      summary: Get user profile
      tags:
        - Users
  /ws:
    get:
      description: Establishes WebSocket connection for real-time scoreboard updates
      responses:
        "101":
          description: Switching Protocols
      summary: WebSocket connection
      tags:
        - Events
servers:
  - url: https://api.ctfleague.ru/api/v1
  - url: http://api.ctfleague.ru/api/v1
components:
  securitySchemes:
    BearerAuth:
      description: 'JWT access token. Format: "Bearer {token}"'
      in: header
      name: Authorization
      type: apiKey
  schemas:
    entity.ChallengeStats:
      properties:
        category:
          type: string
        id:
          type: string
        points:
          type: integer
        solve_count:
          type: integer
        title:
          type: string
      type: object
    entity.ChallengeSolveEntry:
      properties:
        team_id:
          type: string
        team_name:
          type: string
        solved_at:
          type: string
          format: date-time
      type: object
    entity.ChallengeDetailStats:
      properties:
        id:
          type: string
        title:
          type: string
        category:
          type: string
        points:
          type: integer
        solve_count:
          type: integer
        total_teams:
          type: integer
        percentage_solved:
          type: number
        first_blood:
          $ref: "#/components/schemas/entity.ChallengeSolveEntry"
        solves:
          type: array
          items:
            $ref: "#/components/schemas/entity.ChallengeSolveEntry"
      type: object
    entity.BackupData:
      properties:
        version:
          type: string
        exported_at:
          type: string
        competition:
          $ref: "#/components/schemas/entity.Competition"
        challenges:
          type: array
          items:
            $ref: "#/components/schemas/entity.ChallengeExport"
        teams:
          type: array
          items:
            $ref: "#/components/schemas/entity.TeamExport"
        users:
          type: array
          items:
            $ref: "#/components/schemas/entity.UserExport"
        awards:
          type: array
          items:
            $ref: "#/components/schemas/entity.Award"
        solves:
          type: array
          items:
            $ref: "#/components/schemas/entity.Solve"
        files:
          type: array
          items:
            $ref: "#/components/schemas/entity.File"
      type: object
    entity.ImportResult:
      properties:
        success:
          type: boolean
        errors:
          type: array
          items:
            type: string
        skipped_count:
          type: integer
      type: object
    entity.File:
      properties:
        id:
          type: string
        type:
          type: string
        challenge_id:
          type: string
        location:
          type: string
        filename:
          type: string
        size:
          type: integer
        sha256:
          type: string
        created_at:
          type: string
      type: object
    entity.ChallengeExport:
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        category:
          type: string
        points:
          type: integer
        flag_hash:
          type: string
        is_hidden:
          type: boolean
        hints:
          type: array
          items:
            $ref: "#/components/schemas/entity.Hint"
      type: object
    entity.TeamExport:
      properties:
        id:
          type: string
        name:
          type: string
        captain_id:
          type: string
        is_banned:
          type: boolean
        member_ids:
          type: array
          items:
            type: string
      type: object
    entity.UserExport:
      properties:
        id:
          type: string
        username:
          type: string
        email:
          type: string
        role:
          type: string
        team_id:
          type: string
      type: object
    entity.Competition:
      properties:
        id:
          type: integer
        name:
          type: string
        start_time:
          type: string
        end_time:
          type: string
        freeze_time:
          type: string
        is_paused:
          type: boolean
        mode:
          type: string
      type: object
    entity.Hint:
      properties:
        id:
          type: string
        challenge_id:
          type: string
        content:
          type: string
        cost:
          type: integer
        order_index:
          type: integer
      type: object
    entity.Award:
      properties:
        id:
          type: string
        team_id:
          type: string
        value:
          type: integer
        description:
          type: string
        created_at:
          type: string
      type: object
    entity.Solve:
      properties:
        id:
          type: string
        user_id:
          type: string
        team_id:
          type: string
        challenge_id:
          type: string
        solved_at:
          type: string
      type: object
    entity.GeneralStats:
      properties:
        challenge_count:
          type: integer
        solve_count:
          type: integer
        team_count:
          type: integer
        user_count:
          type: integer
      type: object
    entity.ScoreboardHistoryEntry:
      properties:
        points:
          type: integer
        team_id:
          type: string
        team_name:
          type: string
        timestamp:
          type: string
      type: object
    entity.ScorePoint:
      properties:
        timestamp:
          type: string
        score:
          type: integer
      type: object
    entity.TeamTimeline:
      properties:
        team_id:
          type: string
        team_name:
          type: string
        timeline:
          type: array
          items:
            $ref: "#/components/schemas/entity.ScorePoint"
      type: object
    entity.TimeRange:
      properties:
        start:
          type: string
        end:
          type: string
      type: object
    entity.ScoreboardGraph:
      properties:
        range:
          $ref: "#/components/schemas/entity.TimeRange"
        teams:
          type: array
          items:
            $ref: "#/components/schemas/entity.TeamTimeline"
      type: object
    jwt.TokenPair:
      properties:
        access_expires_at:
          type: integer
        access_token:
          type: string
        refresh_expires_at:
          type: integer
        refresh_token:
          type: string
      type: object
    request.CreateAwardRequest:
      properties:
        description:
          type: string
        team_id:
          type: string
        value:
          type: integer
      required:
        - description
        - team_id
        - value
      type: object
    request.CreateChallengeRequest:
      properties:
        category:
          example: Web
          type: string
        decay:
          example: 20
          minimum: 0
          type: integer
        description:
          example: Challenge description
          type: string
        flag:
          example: CTF{flag_here}
          type: string
        flag_format_regex:
          description: Optional regex for flag format validation for this challenge; overrides competition default
          example: '^CTF\{[a-zA-Z0-9_]+\}$'
          type: string
        initial_value:
          example: 500
          minimum: 0
          type: integer
        is_case_insensitive:
          example: false
          type: boolean
        is_hidden:
          example: false
          type: boolean
        is_regex:
          example: false
          type: boolean
        min_value:
          example: 100
          minimum: 0
          type: integer
        points:
          example: 100
          minimum: 0
          type: integer
        tag_ids:
          description: Tag IDs for the challenge
          items:
            type: string
          type: array
        title:
          example: Challenge 1
          type: string
      required:
        - category
        - description
        - flag
        - points
        - title
      type: object
    request.CreateHintRequest:
      properties:
        content:
          example: This is a hint
          type: string
        cost:
          example: 50
          minimum: 0
          type: integer
        order_index:
          example: 0
          minimum: 0
          type: integer
      required:
        - content
      type: object
    request.CreateTagRequest:
      properties:
        name:
          type: string
        color:
          type: string
          default: "#6b7280"
      required:
        - name
      type: object
    request.UpdateTagRequest:
      properties:
        name:
          type: string
        color:
          type: string
      required:
        - name
      type: object
    request.CreateFieldRequest:
      properties:
        name:
          type: string
          maxLength: 100
        field_type:
          type: string
          enum: [text, number, select, boolean]
        entity_type:
          type: string
          enum: [user, team]
        required:
          type: boolean
          default: false
        options:
          description: Options for select type
          items:
            type: string
          type: array
        order_index:
          type: integer
          default: 0
      required:
        - name
        - field_type
        - entity_type
      type: object
    request.UpdateFieldRequest:
      properties:
        name:
          type: string
          maxLength: 100
        field_type:
          type: string
          enum: [text, number, select, boolean]
        required:
          type: boolean
        options:
          items:
            type: string
          type: array
        order_index:
          type: integer
      required:
        - name
        - field_type
      type: object
    request.CreatePageRequest:
      properties:
        title:
          type: string
          maxLength: 200
        slug:
          type: string
          maxLength: 100
        content:
          type: string
        is_draft:
          type: boolean
          default: true
        order_index:
          type: integer
          default: 0
      required:
        - title
        - slug
      type: object
    request.UpdatePageRequest:
      properties:
        title:
          type: string
          maxLength: 200
        slug:
          type: string
          maxLength: 100
        content:
          type: string
        is_draft:
          type: boolean
        order_index:
          type: integer
      required:
        - title
        - slug
      type: object
    request.CreateTeamRequest:
      properties:
        confirm_reset:
          type: boolean
        name:
          example: Team A
          type: string
      required:
        - name
      type: object
    request.BanTeamRequest:
      properties:
        reason:
          example: Violation of rules
          type: string
          maxLength: 500
      required:
        - reason
      type: object
    request.SetHiddenRequest:
      properties:
        hidden:
          type: boolean
      type: object
    request.CreateBracketRequest:
      properties:
        name:
          type: string
          maxLength: 100
        description:
          type: string
        is_default:
          type: boolean
          default: false
      required:
        - name
      type: object
    request.UpdateBracketRequest:
      properties:
        name:
          type: string
          maxLength: 100
        description:
          type: string
        is_default:
          type: boolean
      required:
        - name
      type: object
    request.SetTeamBracketRequest:
      properties:
        bracket_id:
          type: string
          format: uuid
          nullable: true
      type: object
    request.CreateCTFEventRequest:
      properties:
        name:
          type: string
          maxLength: 200
        start_time:
          type: string
          format: date-time
        end_time:
          type: string
          format: date-time
        weight:
          type: number
          default: 1.0
      required:
        - name
        - start_time
        - end_time
      type: object
    request.ForgotPasswordRequest:
      properties:
        email:
          example: player1@example.com
          type: string
      type: object
    request.JoinTeamRequest:
      properties:
        confirm_reset:
          type: boolean
        invite_token:
          example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
          type: string
      required:
        - invite_token
      type: object
    request.LoginRequest:
      properties:
        email:
          example: player1@example.com
          type: string
        password:
          example: SecurePassword123!
          type: string
      required:
        - password
      type: object
    request.RegisterRequest:
      properties:
        email:
          example: player1@example.com
          type: string
        password:
          example: SecurePassword123!
          type: string
        username:
          example: player1
          type: string
        custom_fields:
          description: Custom field values (field_id -> value)
          additionalProperties:
            type: string
          type: object
      type: object
    request.ResetPasswordRequest:
      properties:
        new_password:
          example: NewSecurePassword123!
          type: string
        token:
          type: string
      required:
        - token
      type: object
    request.SubmitFlagRequest:
      properties:
        flag:
          example: CTF{flag_here}
          type: string
      required:
        - flag
      type: object
    request.TransferCaptainRequest:
      properties:
        new_captain_id:
          example: a1b2c3d4-e5f6-7890-abcd-ef1234567890
          type: string
      required:
        - new_captain_id
      type: object
    request.UpdateCompetitionRequest:
      properties:
        allow_team_switch:
          type: boolean
        end_time:
          format: date-time
          type: string
        flag_regex:
          type: string
        freeze_time:
          format: date-time
          type: string
        is_paused:
          type: boolean
        is_public:
          type: boolean
        mode:
          type: string
        name:
          type: string
        start_time:
          format: date-time
          type: string
      required:
        - name
      type: object
    request.SetConfigRequest:
      properties:
        value:
          type: string
        value_type:
          enum:
            - string
            - int
            - bool
            - json
          type: string
          default: string
        description:
          type: string
      required:
        - value
      type: object
    request.UpdateAppSettingsRequest:
      properties:
        app_name:
          maxLength: 100
          type: string
        cors_origins:
          type: string
        frontend_url:
          maxLength: 512
          type: string
        registration_open:
          type: boolean
        reset_ttl_hours:
          maximum: 168
          minimum: 1
          type: integer
        resend_enabled:
          type: boolean
        resend_from_email:
          maxLength: 255
          type: string
        resend_from_name:
          maxLength: 100
          type: string
        scoreboard_visible:
          enum:
            - public
            - hidden
            - admins_only
          type: string
        submit_limit_duration_min:
          minimum: 1
          type: integer
        submit_limit_per_user:
          minimum: 1
          type: integer
        verify_emails:
          type: boolean
        verify_ttl_hours:
          maximum: 168
          minimum: 1
          type: integer
      required:
        - app_name
        - cors_origins
        - frontend_url
        - resend_from_email
        - resend_from_name
      type: object
    request.UpdateChallengeRequest:
      properties:
        category:
          example: Web
          type: string
        decay:
          example: 20
          minimum: 0
          type: integer
        description:
          example: Updated description
          type: string
        flag:
          example: CTF{new_flag}
          type: string
        flag_format_regex:
          description: Optional regex for flag format validation for this challenge; overrides competition default
          example: '^CTF\{[a-zA-Z0-9_]+\}$'
          type: string
        initial_value:
          example: 500
          minimum: 0
          type: integer
        is_case_insensitive:
          example: false
          type: boolean
        is_hidden:
          example: false
          type: boolean
        is_regex:
          example: false
          type: boolean
        min_value:
          example: 100
          minimum: 0
          type: integer
        points:
          example: 150
          minimum: 0
          type: integer
        tag_ids:
          description: Tag IDs for the challenge
          items:
            type: string
          type: array
        title:
          example: Updated title
          type: string
      required:
        - category
        - description
        - points
        - title
      type: object
    request.UpdateHintRequest:
      properties:
        content:
          example: Updated hint content
          type: string
        cost:
          example: 100
          minimum: 0
          type: integer
        order_index:
          example: 1
          minimum: 0
          type: integer
      required:
        - content
      type: object
    response.AwardResponse:
      properties:
        created_at:
          type: string
        created_by:
          type: string
        description:
          type: string
        id:
          type: string
        team_id:
          type: string
        value:
          type: integer
      type: object
    response.ChallengeResponse:
      properties:
        category:
          type: string
        description:
          type: string
        id:
          type: string
        is_hidden:
          type: boolean
        points:
          type: integer
        solve_count:
          type: integer
        solved:
          type: boolean
        tags:
          items:
            $ref: "#/components/schemas/response.TagResponse"
          type: array
        title:
          type: string
      type: object
    response.TagResponse:
      properties:
        id:
          type: string
        name:
          type: string
        color:
          type: string
      type: object
    response.FieldResponse:
      properties:
        id:
          type: string
        name:
          type: string
        field_type:
          type: string
          enum: [text, number, select, boolean]
        entity_type:
          type: string
          enum: [user, team]
        required:
          type: boolean
        options:
          items:
            type: string
          type: array
        order_index:
          type: integer
        created_at:
          type: string
          format: date-time
      type: object
    response.PageListItemResponse:
      properties:
        id:
          type: string
        title:
          type: string
        slug:
          type: string
        order_index:
          type: integer
      type: object
    response.PageResponse:
      properties:
        id:
          type: string
        title:
          type: string
        slug:
          type: string
        content:
          type: string
        is_draft:
          type: boolean
        order_index:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      type: object
    response.BracketResponse:
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        is_default:
          type: boolean
        created_at:
          type: string
          format: date-time
      type: object
    response.GlobalRatingResponse:
      properties:
        team_id:
          type: string
        team_name:
          type: string
        total_points:
          type: number
        events_count:
          type: integer
        best_rank:
          type: integer
          nullable: true
        last_updated:
          type: string
          format: date-time
      type: object
    response.GlobalRatingsListResponse:
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/response.GlobalRatingResponse"
        total:
          type: integer
      type: object
    response.TeamRatingItemResponse:
      properties:
        id:
          type: string
        ctf_event_id:
          type: string
        rank:
          type: integer
        score:
          type: integer
        rating_points:
          type: number
        created_at:
          type: string
          format: date-time
      type: object
    response.TeamRatingResponse:
      properties:
        global:
          $ref: "#/components/schemas/response.GlobalRatingResponse"
        event_ratings:
          type: array
          items:
            $ref: "#/components/schemas/response.TeamRatingItemResponse"
      type: object
    response.CTFEventResponse:
      properties:
        id:
          type: string
        name:
          type: string
        start_time:
          type: string
          format: date-time
        end_time:
          type: string
          format: date-time
        weight:
          type: number
        created_at:
          type: string
          format: date-time
      type: object
    response.CompetitionResponse:
      properties:
        end_time:
          type: string
        freeze_time:
          type: string
        id:
          type: integer
        is_paused:
          type: boolean
        is_public:
          type: boolean
        mode:
          type: string
        name:
          type: string
        start_time:
          type: string
        status:
          type: string
      type: object
    response.CompetitionStatusResponse:
      properties:
        end_time:
          type: string
        name:
          type: string
        start_time:
          type: string
        status:
          type: string
        submission_allowed:
          type: boolean
      type: object
    response.ConfigResponse:
      properties:
        key:
          type: string
        value:
          type: string
        value_type:
          type: string
        description:
          type: string
        updated_at:
          type: string
          format: date-time
      required:
        - key
        - value
        - value_type
      type: object
    response.AppSettingsResponse:
      properties:
        app_name:
          type: string
        cors_origins:
          type: string
        frontend_url:
          type: string
        registration_open:
          type: boolean
        reset_ttl_hours:
          type: integer
        resend_enabled:
          type: boolean
        resend_from_email:
          type: string
        resend_from_name:
          type: string
        scoreboard_visible:
          type: string
        submit_limit_duration_min:
          type: integer
        submit_limit_per_user:
          type: integer
        updated_at:
          type: string
        verify_emails:
          type: boolean
        verify_ttl_hours:
          type: integer
      type: object
    response.FirstBloodResponse:
      properties:
        solved_at:
          type: string
        team_id:
          type: string
        team_name:
          type: string
        user_id:
          type: string
        username:
          type: string
      type: object
    response.HintAdminResponse:
      properties:
        challenge_id:
          type: string
        content:
          type: string
        cost:
          type: integer
        id:
          type: string
        order_index:
          type: integer
      type: object
    response.HintResponse:
      properties:
        content:
          type: string
        cost:
          type: integer
        id:
          type: string
        order_index:
          type: integer
        unlocked:
          type: boolean
      type: object
    response.MeResponse:
      properties:
        created_at:
          type: string
        email:
          type: string
        id:
          type: string
        role:
          type: string
          description: user role (admin, user)
        team_id:
          type: string
        username:
          type: string
      type: object
    response.RegisterResponse:
      properties:
        created_at:
          type: string
        email:
          type: string
        id:
          type: string
        username:
          type: string
      type: object
    response.ScoreboardEntryResponse:
      properties:
        last_solved:
          type: string
        points:
          type: integer
        team_id:
          type: string
        team_name:
          type: string
      type: object
    response.SolveResponse:
      properties:
        challenge_id:
          type: string
        id:
          type: string
        solved_at:
          type: string
      type: object
    response.TeamResponse:
      properties:
        captain_id:
          type: string
        created_at:
          type: string
        id:
          type: string
        invite_token:
          type: string
        name:
          type: string
      type: object
    response.TeamWithMembersResponse:
      properties:
        captain_id:
          type: string
        created_at:
          type: string
        id:
          type: string
        invite_token:
          type: string
        members:
          items:
            $ref: "#/components/schemas/response.UserResponse"
          type: array
        name:
          type: string
        is_banned:
          type: boolean
        banned_at:
          type: string
        banned_reason:
          type: string
      type: object
    response.UserProfileResponse:
      properties:
        created_at:
          type: string
        id:
          type: string
        solves:
          items:
            $ref: "#/components/schemas/response.SolveResponse"
          type: array
        team_id:
          type: string
        username:
          type: string
      type: object
    response.UserResponse:
      properties:
        id:
          type: string
        role:
          type: string
        team_id:
          type: string
        username:
          type: string
      type: object
    response.SubmissionResponse:
      properties:
        id:
          type: string
        user_id:
          type: string
        team_id:
          type: string
        challenge_id:
          type: string
        submitted_flag:
          type: string
        is_correct:
          type: boolean
        ip:
          type: string
        created_at:
          type: string
        username:
          type: string
        team_name:
          type: string
        challenge_title:
          type: string
        challenge_category:
          type: string
      type: object
    response.SubmissionListResponse:
      properties:
        items:
          type: array
          items:
            $ref: "#/components/schemas/response.SubmissionResponse"
        total:
          type: integer
        page:
          type: integer
        per_page:
          type: integer
      type: object
    response.SubmissionStatsResponse:
      properties:
        total:
          type: integer
        correct:
          type: integer
        incorrect:
          type: integer
      type: object
    request.CreateNotificationRequest:
      properties:
        title:
          type: string
        content:
          type: string
        type:
          type: string
          enum: [info, warning, success, error]
          default: info
        is_pinned:
          type: boolean
          default: false
      required:
        - title
        - content
      type: object
    request.CreateUserNotificationRequest:
      properties:
        title:
          type: string
        content:
          type: string
        type:
          type: string
          enum: [info, warning, success, error]
          default: info
      required:
        - title
        - content
      type: object
    request.UpdateNotificationRequest:
      properties:
        title:
          type: string
        content:
          type: string
        type:
          type: string
          enum: [info, warning, success, error]
        is_pinned:
          type: boolean
      required:
        - title
        - content
      type: object
    response.NotificationResponse:
      properties:
        id:
          type: string
        title:
          type: string
        content:
          type: string
        type:
          type: string
        is_pinned:
          type: boolean
        created_at:
          type: string
      type: object
    response.UserNotificationResponse:
      properties:
        id:
          type: string
        title:
          type: string
        content:
          type: string
        type:
          type: string
        is_read:
          type: boolean
        created_at:
          type: string
      type: object
    request.CreateAPITokenRequest:
      properties:
        description:
          type: string
        expires_at:
          type: string
          format: date-time
      type: object
    response.APITokenResponse:
      properties:
        id:
          type: string
        description:
          type: string
        expires_at:
          type: string
          format: date-time
        last_used_at:
          type: string
          format: date-time
        created_at:
          type: string
      type: object
    response.APITokenCreatedResponse:
      properties:
        id:
          type: string
        token:
          type: string
          description: Plaintext token (shown once)
        description:
          type: string
        expires_at:
          type: string
          format: date-time
        created_at:
          type: string
      required:
        - token
      type: object
    request.CreateCommentRequest:
      properties:
        content:
          type: string
      required:
        - content
      type: object
    response.CommentResponse:
      properties:
        id:
          type: string
        user_id:
          type: string
        challenge_id:
          type: string
        content:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
      type: object
    v1.ErrorResponse:
      properties:
        code:
          type: string
        error:
          type: string
      type: object
